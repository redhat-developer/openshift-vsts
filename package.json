{
  "name": "openshift-vsts",
  "version": "1.0.0",
  "description": "OpenShift TFS/VSTS Marketplace Extension",
  "main": "index.js",
  "scripts": {
    "setup": "npm install -g tfx-cli typescript json",
    "clean": "rm -rf out && for i in `ls tasks` ; do (cd tasks/$i; npm run clean); done",
    "build": "for i in `ls tasks` ; do (cd `pwd`/tasks/$i; npm run build); done",
    "test": "for i in `ls tasks` ; do (cd ./tasks/$i; npm run test); done",
    "test:report": "for i in `ls tasks` ; do (cd ./tasks/$i; npm run test:report); done",
    "test:report:ci": "for i in `ls tasks` ; do (cd ./tasks/$i; npm run test:report:ci); done",
    "prettier:check": "for i in `ls tasks` ; do (cd ./tasks/$i; npm run prettier:check); done",
    "bump-task-version": "for i in `ls tasks` ; do TASK=$(cat tasks/$i/task.json | json -e 'this.version.Patch++'); echo \"$TASK\" > tasks/$i/task.json; done",
    "commit": "export EXT_VERSION=$(json -f vss-extension.json version) && git commit -a -m \"cut v${EXT_VERSION}\" && git tag v${EXT_VERSION} && git push --tags origin HEAD:master",
    "preextension:create": "npm run bump-task-version",
    "extension:create": "tfx extension create --token $TOKEN --output-path out --rev-version",
    "preextension:create:dev": "npm run extension:create",
    "extension:create:dev": "tfx extension create --token $TOKEN --output-path out --publisher $DEV_PUBLISHER --overrides-file ./scripts/vsix-manifest-overrides.json",
    "extension:publish": "tfx extension publish --token $TOKEN --vsix out/redhat.openshift-vsts-$(json -f vss-extension.json version).vsix",
    "extension:publish:dev": "tfx extension publish --token $TOKEN --vsix out/$DEV_PUBLISHER.openshift-vsts-$(json -f vss-extension.json version).vsix",
    "extension:share:dev": "tfx extension share --token $TOKEN --share-with $EXT_SHARES --publisher $DEV_PUBLISHER --extension-id openshift-vsts",
    "extension:unshare:dev": "tfx extension unshare --token $TOKEN --unshare-with $EXT_SHARES --publisher $DEV_PUBLISHER --extension-id openshift-vsts"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/hferentschik/openshift-vsts.git"
  },
  "keywords": [],
  "author": "Hardy Ferentschik",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/hferentschik/openshift-vsts/issues"
  },
  "homepage": "https://github.com/hferentschik/openshift-vsts#readme",
  "devDependencies": {
    "commit-message-validator": "^0.1.6",
    "husky": "^1.1.1"
  },
  "config": {
    "commit-message-validator": {
      "pattern": [
        "Issue #[0-9]+ [a-zA-Z]+.*",
        "cut v[0-9]+\\.[0-9]+\\.[0-9]+"
      ],
      "errorMessage": "Invalid commit message"
    }
  },
  "husky": {
    "hooks": {
      "commit-msg": "commit-message-validator"
    }
  }
}
